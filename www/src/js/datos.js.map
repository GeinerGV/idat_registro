{"version":3,"sources":["../scripts/datos.jsx"],"names":["Datos","props","opciones","Object","keys","num_pages_view","mounted","state","selectedRow","tblHei","rowTipo","option","getOption","cargando","page","getPage","row_opcion","React","createRef","getRows","bind","getCurrRowsSource","handleChange","setTableHeight","getEditorPosY","handleMouseover","exportarExcel","handleOptionDataChange","dataLocalManager","handlerPages","getNumPages","prevProps","prevState","length","$","offset","top","height","date","split","fecha","Date","ses_data","sessionStorage","getItem","getRowsSesKey","parseDate","JSON","parse","num_rows","current","value","keys_data","values","sort","a","b","reverse","splice","getRowsSource","includes","rows","setRowsSource","Array","isArray","forEach","val","assign","setItem","stringify","hei","setState","data","dataManager","e","xmlhttp","XMLHttpRequest","params","onreadystatechange","readyState","status","prepend","Alerta","tipo","msg","open","setRequestHeader","send","config","getDefaultConfig","URLSearchParams","append","toString","Number","isInteger","getPages","this_tmp","responseText","setPage","view","getDownloadDataParams","currentTarget","sectionRowIndex","target","querySelector","id","setOption","limits","pages","default_option","dir","preventDefault","new_page","isNaN","parseInt","manageChange","total_pages","max_pages","left","right","mid_num","pag_num","counter","push","fill","every","Math","min","max","thead","map","row","options","opt","txt","display","alignItems","justifyContent","maxWidth","width","canEdit","AdminRows","overflowX","overflowY","position","ceil","Component","GoToPage","active","className","h_url","handler","lbl","Row","columns","cols","col","pos","optionalAttrs","onMouseOver","OpcionesDatos","onHandler","DATOS_REF","getInitPropsDatos","result","ses_view","ReactDOM","render","document"],"mappings":"isDAAMA,M,8DACL,eAAYC,KAAZ,CAAmB,iIACZA,KADY,GAGlB,MAAKC,QAAL,CAAgBC,OAAOC,IAAP,CAAYH,MAAMC,QAAlB,CAAhB,CACA,MAAKG,cAAL,CAAsB,CAAtB,CACA,MAAKC,OAAL,CAAc,KAAd,CACA,MAAKC,KAAL,CAAa,CAACC,YAAa,CAAd,CAAiBC,OAAQ,CAAzB,CAA4BC,QAAS,IAArC,CAA2CC,OAAQ,MAAKC,SAAL,EAAnD,CAAqEC,SAAU,KAA/E,CAAsFC,KAAM,CAA5F,CAAb,CACA,MAAKP,KAAL,CAAWO,IAAX,CAAkB,MAAKC,OAAL,EAAlB,CAEA,MAAKC,UAAL,CAAkBC,MAAMC,SAAN,EAAlB,CACA,MAAKC,OAAL,CAAe,MAAKA,OAAL,CAAaC,IAAb,OAAf,CACA,MAAKC,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBD,IAAvB,OAAzB,CACA,MAAKE,YAAL,CAAoB,MAAKA,YAAL,CAAkBF,IAAlB,OAApB,CACA,MAAKG,cAAL,CAAsB,MAAKA,cAAL,CAAoBH,IAApB,OAAtB,CACA,MAAKI,aAAL,CAAqB,MAAKA,aAAL,CAAmBJ,IAAnB,OAArB,CACA,MAAKK,eAAL,CAAuB,MAAKA,eAAL,CAAqBL,IAArB,OAAvB,CACA,MAAKM,aAAL,CAAqB,MAAKA,aAAL,CAAmBN,IAAnB,OAArB,CACA,MAAKO,sBAAL,CAA8B,MAAKA,sBAAL,CAA4BP,IAA5B,OAA9B,CACA,MAAKQ,gBAAL,CAAwB,MAAKA,gBAAL,CAAsBR,IAAtB,OAAxB,CACA,MAAKS,YAAL,CAAoB,MAAKA,YAAL,CAAkBT,IAAlB,OAApB,CACA,MAAKU,WAAL,CAAmB,MAAKA,WAAL,CAAiBV,IAAjB,OAAnB,CApBkB,YAyBlB,C,+EAEmB,CACnB,KAAKG,cAAL,GACA,KAAKjB,OAAL,CAAe,IACf,C,8DAEkByB,S,CAAWC,S,CAAW,CACxC,KAAKT,cAAL,EACA,C,qDAEe,CACf,GAAI,KAAKhB,KAAL,CAAWC,WAAX,EAA0B,KAAKD,KAAL,CAAWC,WAAX,CAAuB,KAAKW,OAAL,GAAec,MAAhE,EAA0E,CAAC,KAAK1B,KAAL,CAAWM,QAA1F,CAAoG,CACnG,MAAOqB,0BAAwB,KAAK3B,KAAL,CAAWC,WAAX,CAAuB,CAA/C,OAAqD2B,MAArD,GAA8DC,GAA9D,CAAoEF,EAAE,WAAF,EAAeC,MAAf,GAAwBC,GACnG,CACD,MAAOF,GAAE,iBAAF,EAAqBG,MAArB,EACP,C,4CAESC,I,CAAM,CAEfA,KAAOA,KAAKC,KAAL,CAAW,GAAX,CAAP,CACA,GAAIC,OAAQF,KAAK,CAAL,EAAQC,KAAR,CAAc,GAAd,CAAZ,CACA,MAAO,IAAIE,KAAJ,CAASD,MAAM,CAAN,EAAS,GAAT,CAAaA,MAAM,CAAN,CAAb,CAAsB,GAAtB,CAA0BA,MAAM,CAAN,CAA1B,CAAmC,GAAnC,CAAuCF,KAAK,CAAL,CAAhD,CACP,C,oDAEa3B,M,CAAQ,CACrB,GAAI,CAACA,MAAL,CAAaA,OAAS,KAAKJ,KAAL,CAAWI,MAApB,CACb,MAAO,cAAcA,MACrB,C,yCAES,CACT,GAAI+B,UAAWC,eAAeC,OAAf,CAAuB,KAAKC,aAAL,EAAvB,CAAf,CACA,GAAIC,WAAY,KAAKA,SAArB,CACA,GAAIJ,QAAJ,CAAc,CACbA,SAAWK,KAAKC,KAAL,CAAWN,QAAX,CAAX,CAEC,GAAIO,UAAW,KAAKjC,UAAL,CAAgBkC,OAAhB,CAA0B,KAAKlC,UAAL,CAAgBkC,OAAhB,CAAwBC,KAAlD,CAA0D,EAAzE,CACA,GAAIC,WAAY,EAAhB,CAEA,OAAQ,KAAK7C,KAAL,CAAWI,MAAnB,EACC,IAAK,SAAL,CACCyC,UAAajD,OAAOkD,MAAP,CAAcX,QAAd,EAAwBY,IAAxB,CAA6B,SAASC,CAAT,CAAYC,CAAZ,CAAc,CAAC,MAAOV,WAAUS,EAAE,CAAF,CAAV,EAAkBT,UAAUU,EAAE,CAAF,CAAV,CAAgB,CAArF,EAAuFC,OAAvF,GAAiGC,MAAjG,CAAwG,CAAxG,CAA2GT,QAA3G,CAAb,CACA,MACD,QACCG,UAAajD,OAAOkD,MAAP,CAAcX,QAAd,EAAwBY,IAAxB,CAA6B,SAASC,CAAT,CAAYC,CAAZ,CAAc,CAAC,MAAOV,WAAUS,EAAE,CAAF,CAAV,EAAkBT,UAAUU,EAAE,CAAF,CAAV,CAAgB,CAArF,EAAuFC,OAAvF,GAAiGC,MAAjG,CAAwG,CAAxG,CAA2GT,QAA3G,CAAb,CACA,MANF,CASA,MAAOG,UAER,CACD,MAAO,EACP,C,6DAEmB,CACnB,MAAO,MAAKO,aAAL,CAAmB,KAAKpD,KAAL,CAAWI,MAA9B,CACP,C,oDAEaA,M,CAAQ,CACrB,GAAI,KAAKT,QAAL,CAAc0D,QAAd,CAAuBjD,MAAvB,CAAJ,CAAoC,CACnC,GAAI+B,UAAWC,eAAeC,OAAf,CAAuB,KAAKC,aAAL,CAAmBlC,MAAnB,CAAvB,CAAf,CACA,GAAI+B,QAAJ,CAAc,CACbA,SAAWK,KAAKC,KAAL,CAAWN,QAAX,CAAX,CAEA,MAAOA,SACP,CACD,CACD,MAAO,KACP,C,4DAEiBmB,I,CAAM,CACvB,KAAKC,aAAL,CAAmB,KAAKvD,KAAL,CAAWI,MAA9B,CAAsCkD,IAAtC,CACA,C,oDAEalD,M,CAAQkD,I,CAAM,CAC3B,GAAI,KAAK3D,QAAL,CAAc0D,QAAd,CAAuBjD,MAAvB,GAAkC,OAAOkD,KAAP,mCAAOA,IAAP,IAAe,QAArD,CAA+D,CAC9D,GAAInB,UAAWC,eAAeC,OAAf,CAAuB,KAAKC,aAAL,CAAmBlC,MAAnB,CAAvB,CAAf,CACA,GAAI+B,QAAJ,CAAc,CACbA,SAAWK,KAAKC,KAAL,CAAWN,QAAX,CAAX,CAEE,GAAI,CAACqB,MAAMC,OAAN,CAAcH,IAAd,CAAL,CAA0B,CACzBnB,SAAWmB,IACZ,CAFA,IAEM,CACNnB,SAAW,EAAX,CACAmB,KAAKI,OAAL,CAAa,SAAUC,GAAV,CAAe,CAC3B/D,OAAOgE,MAAP,CAAczB,QAAd,oBAA0BwB,IAAI,CAAJ,CAA1B,CAAmCA,GAAnC,EACA,CAFD,CAGA,CAEF,CACDvB,eAAeyB,OAAf,CAAuB,KAAKvB,aAAL,CAAmBlC,MAAnB,CAAvB,CAAmDoC,KAAKsB,SAAL,CAAe3B,QAAf,CAAnD,CACA,CACD,C,uDAEgB,CAChB,GAAI4B,KAAMpC,EAAE,WAAF,EAAeG,MAAf,GAAwB,EAAxB,CAA2B,EAArC,CACA,GAAIiC,KAAO,KAAK/D,KAAL,CAAWE,MAAtB,CAA8B,KAAK8D,QAAL,CAAc,CAAC9D,OAAQ6D,GAAT,CAAd,CAC9B,C,0DAEgBE,I,CAAM,CACtBC,YAAYD,IAAZ,CAKA,C,oDAEaE,C,CAAG,CAChB,GAAIC,SAAU,GAAIC,eAAlB,CACA,GAAIC,iCAAkC,KAAK7D,UAAL,CAAgBkC,OAAhB,CAAwBC,KAA9D,CACAwB,QAAQG,kBAAR,CAA6B,UAAW,CACvC,GAAI,KAAKC,UAAL,EAAmB,CAAnB,EAAwB,KAAKC,MAAL,EAAe,GAA3C,CAAgD,CAC/C9C,EAAE,YAAF,EAAgB+C,OAAhB,CAAwBC,OAAO,CAACC,KAAM,SAAP,CAAkBC,IAAK,wBAAvB,CAAP,CAAxB,CACA,CACD,CAJD,CAKAT,QAAQU,IAAR,CAAa,MAAb,CAAqB,QAArB,CAA+B,IAA/B,EACAV,QAAQW,gBAAR,CAAyB,cAAzB,CAAyC,mCAAzC,EACAX,QAAQY,IAAR,CAAaV,MAAb,CAEA,C,oEAEqBW,M,CAAQ,CAC7BA,OAAS,KAAKC,gBAAL,CAAsBD,MAAtB,CAAT,CACA,GAAIX,QAAS,GAAIa,gBAAjB,CACAb,OAAOc,MAAP,CAAc,MAAd,CAAsB,IAAtB,EACA,GAAI,KAAK3E,UAAL,CAAgBkC,OAAhB,CAAwBC,KAAxB,EAA+B,EAAnC,CAAuC0B,OAAOc,MAAP,CAAc,MAAd,CAAsB,KAAK3E,UAAL,CAAgBkC,OAAhB,CAAwBC,KAA9C,EACvC,GAAIqC,OAAO7E,MAAP,EAAe,KAAKT,QAAL,CAAc,CAAd,CAAnB,CAAqC2E,OAAOc,MAAP,CAAc,MAAd,CAAsBH,OAAO7E,MAA7B,EACrC,GAAI6E,OAAO1E,IAAP,CAAY,CAAhB,CAAmB+D,OAAOc,MAAP,CAAc,MAAd,CAAsBH,OAAO1E,IAA7B,EAEnB,MAAO+D,QAAOe,QAAP,EAGP,C,0DAEgBJ,M,CAAQ,CACxB,GAAI,CAACA,MAAL,CAAaA,OAAS,EAAT,CACb,GAAI,CAACA,OAAO7E,MAAZ,CAAoB6E,OAAO7E,MAAP,CAAc,KAAKJ,KAAL,CAAWI,MAAzB,CACpB,GAAI,CAACkF,OAAOC,SAAP,CAAiBN,OAAO1E,IAAxB,CAAL,CAAoC0E,OAAO1E,IAAP,CAAY,KAAKP,KAAL,CAAWO,IAAX,EAAiB,CAAjB,EAAsB,KAAKP,KAAL,CAAWO,IAAX,EAAiB,KAAKiF,QAAL,CAAcP,OAAO7E,MAArB,CAAvC,CAAsE,KAAKJ,KAAL,CAAWO,IAAjF,CAAwF,KAAKC,OAAL,CAAayE,OAAO7E,MAApB,CAApG,CACpC,MAAO6E,OACP,C,kDAEYd,C,CAAG,CAGf,KAAKH,QAAL,CAAc,CAAC1D,SAAU,IAAX,CAAiBL,YAAY,CAA7B,CAAd,EACA,GAAImE,SAAU,GAAIC,eAAlB,CACA,GAAIoB,UAAW,IAAf,CACArB,QAAQG,kBAAR,CAA6B,UAAW,CACvC,GAAI,KAAKC,UAAL,EAAmB,CAAnB,EAAwB,KAAKC,MAAL,EAAe,GAA3C,CAAgD,CAC/C,GAAIR,MAAOzB,KAAKC,KAAL,CAAW,KAAKiD,YAAhB,CAAX,CACA,GAAI,CAACzB,IAAL,CAAW,CACVwB,SAASE,OAAT,CAAiB,CAAjB,CACA,CACDF,SAASpE,gBAAT,CAA0B4C,IAA1B,EACAwB,SAASzB,QAAT,CAAkB,CAAC1D,SAAU,KAAX,CAAlB,CACA,CACD,CATD,CAUA,GAAIsF,MAAO,KAAK5F,KAAL,CAAWI,MAAX,EAAmB,KAAKT,QAAL,CAAc,CAAd,CAAnB,CAAsC,SAAS,KAAKK,KAAL,CAAWI,MAA1D,CAAmE,EAA9E,CACAgE,QAAQU,IAAR,CAAa,KAAb,CAAoB,UAAU,KAAKe,qBAAL,EAA9B,CAA4D,IAA5D,EACAzB,QAAQY,IAAR,EACA,C,kDAEYC,M,CAAQ,CACpBA,OAAS,KAAKC,gBAAL,CAAsBD,MAAtB,CAAT,CACA,KAAKjB,QAAL,CAAc,CAAC1D,SAAU,IAAX,CAAiBL,YAAY,CAA7B,CAAd,EACA,GAAImE,SAAU,GAAIC,eAAlB,CACA,GAAIoB,UAAW,IAAf,CACArB,QAAQG,kBAAR,CAA6B,UAAW,CACvC,GAAI,KAAKC,UAAL,EAAmB,CAAnB,EAAwB,KAAKC,MAAL,EAAe,GAA3C,CAAgD,CAC/CgB,SAASpE,gBAAT,CAA0BmB,KAAKC,KAAL,CAAW,KAAKiD,YAAhB,CAA1B,EACAD,SAASzB,QAAT,CAAkB,CAAC1D,SAAU,KAAX,CAAlB,CACA,CACD,CALD,CAMA,GAAIsF,MAAO,KAAK5F,KAAL,CAAWI,MAAX,EAAmB,KAAKT,QAAL,CAAc,CAAd,CAAnB,CAAsC,SAAS,KAAKK,KAAL,CAAWI,MAA1D,CAAmE,EAA9E,CACAgE,QAAQU,IAAR,CAAa,KAAb,CAAoB,UAAU,KAAKe,qBAAL,CAA2BZ,MAA3B,CAA9B,CAAkE,IAAlE,EACAb,QAAQY,IAAR,EACA,C,wDAEeb,C,CAAG,CAElB,KAAKH,QAAL,CAAc,CAAC/D,YAAakE,EAAE2B,aAAF,CAAgBC,eAA9B,CAA+C5F,QAAS,QAAxD,CAAd,CACA,C,8CAEUyE,I,CAAM,CAChB,KAAKZ,QAAL,CAAc,CAAC7D,QAASyE,IAAV,CAAd,EACA,MAAO,KACP,C,sEAEsBT,C,CAAG,CACzB,GAAI/D,QAAS+D,EAAE6B,MAAF,CAASC,aAAT,CAAuB,OAAvB,EAAgCC,EAA7C,CACA,KAAKC,SAAL,CAAe/F,MAAf,EACA,KAAK4D,QAAL,CAAc,CAAC1D,SAAU,IAAX,CAAiBL,YAAY,CAA7B,CAAgCM,KAAM,KAAKC,OAAL,CAAaJ,MAAb,CAAtC,CAAd,EACA,GAAIgE,SAAU,GAAIC,eAAlB,CAGA,GAAIoB,UAAW,IAAf,CACArB,QAAQG,kBAAR,CAA6B,UAAW,CACvC,GAAI,KAAKC,UAAL,EAAmB,CAAnB,EAAwB,KAAKC,MAAL,EAAe,GAA3C,CAAgD,CAE/CgB,SAASpE,gBAAT,CAA0BmB,KAAKC,KAAL,CAAW,KAAKiD,YAAhB,CAA1B,EACAD,SAASzB,QAAT,CAAkB,CAAC1D,SAAU,KAAX,CAAlB,CACA,CACD,CAND,CAOA8D,QAAQU,IAAR,CAAa,KAAb,CAAoB,UAAU,KAAKe,qBAAL,CAA2B,CAACzF,OAAQA,MAAT,CAA3B,CAA9B,CAA4E,IAA5E,EACAgE,QAAQY,IAAR,EACA,C,+DAEoB,CACpB,MAAO,MAAKpE,OAAL,GAAe,KAAKZ,KAAL,CAAWC,WAA1B,CACP,C,0CAEQG,M,CAAQ,CAChB,GAAIgG,QAAShE,eAAeC,OAAf,CAAuB,mBAAvB,CAAb,CACA,GAAI+D,MAAJ,CAAY,CACXA,OAAS5D,KAAKC,KAAL,CAAW2D,MAAX,CAAT,CACAhG,OAASA,OAASA,MAAT,CAAkB,KAAKJ,KAAL,CAAWI,MAAtC,CACA,GAAIgG,OAAOhG,MAAP,GAAkBgG,OAAOhG,MAAP,EAAeiG,KAArC,CAA4C,CAC3C,MAAOD,QAAOhG,MAAP,EAAeiG,KACtB,CACD,CACD,MAAO,EACP,C,wCAEOjG,M,CAAQ,CACf,GAAIgG,QAAShE,eAAeC,OAAf,CAAuB,mBAAvB,CAAb,CACA,GAAI+D,MAAJ,CAAY,CACXA,OAAS5D,KAAKC,KAAL,CAAW2D,MAAX,CAAT,CACAhG,OAASA,OAASA,MAAT,CAAkB,KAAKJ,KAAL,CAAWI,MAAtC,CACA,GAAIgG,OAAOhG,MAAP,GAAkBgG,OAAOhG,MAAP,EAAeG,IAArC,CAA2C,CAC1C,MAAO6F,QAAOhG,MAAP,EAAeG,IACtB,CACD,CACD,KAAKoF,OAAL,CAAa,CAAb,CAAgBvF,MAAhB,EACA,MAAO,EACP,C,wCAEOG,I,CAAMH,M,CAAQ,CACrB,GAAIgG,QAAShE,eAAeC,OAAf,CAAuB,mBAAvB,CAAb,CACA,GAAI+D,MAAJ,CAAY,CACXA,OAAS5D,KAAKC,KAAL,CAAW2D,MAAX,CAAT,CACAhG,OAASA,OAASA,MAAT,CAAkB,KAAKJ,KAAL,CAAWI,MAAtC,CACA,GAAIgG,OAAOhG,MAAP,CAAJ,CAAoB,CACnBgG,OAAOhG,MAAP,EAAeG,IAAf,CAAsBA,IAAtB,CACA,GAAI,KAAKR,OAAT,CAAkB,KAAKiE,QAAL,CAAc,CAACzD,KAAMA,IAAP,CAAd,EAClB6B,eAAeyB,OAAf,CAAuB,mBAAvB,CAA4CrB,KAAKsB,SAAL,CAAesC,MAAf,CAA5C,CACA,CACD,CACD,C,6CAEW,CACX,GAAIA,QAAShE,eAAeC,OAAf,CAAuB,mBAAvB,CAAb,CACA,GAAI+D,MAAJ,CAAY,CACXA,OAAS5D,KAAKC,KAAL,CAAW2D,MAAX,CAAT,CACA,GAAIA,OAAOE,cAAP,EAAyB,KAAK3G,QAAL,CAAc0D,QAAd,CAAuB+C,OAAOE,cAA9B,CAA7B,CAA4E,CAC3E,MAAOF,QAAOE,cACd,CACD,CACD,KAAKH,SAAL,CAAe,KAAKxG,QAAL,CAAc,CAAd,CAAf,EACA,MAAO,MAAKA,QAAL,CAAc,CAAd,CACP,C,4CAESS,M,CAAQ,CACjB,GAAIgG,QAAShE,eAAeC,OAAf,CAAuB,mBAAvB,CAAb,CACA,GAAI+D,MAAJ,CAAY,CACXA,OAAS5D,KAAKC,KAAL,CAAW2D,MAAX,CAAT,CACA,GAAIA,MAAJ,CAAY,CACXA,OAAOE,cAAP,CAAwBlG,MAAxB,CACA,GAAI,KAAKL,OAAT,CAAkB,KAAKiE,QAAL,CAAc,CAAC5D,OAAQA,MAAT,CAAd,EAClBgC,eAAeyB,OAAf,CAAuB,mBAAvB,CAA4CrB,KAAKsB,SAAL,CAAesC,MAAf,CAA5C,CACA,CACD,CACD,C,kDAGYjC,C,CAAGoC,G,CAAK,CACpBpC,EAAEqC,cAAF,GACA,GAAIC,UAAW,KAAKzG,KAAL,CAAWO,IAA1B,CACA,OAAOgG,GAAP,EACC,IAAK,MAAL,CACCE,UAAY,CAAZ,CACA,MACD,IAAK,MAAL,CACCA,UAAY,CAAZ,CACA,MACD,QACC,GAAI,CAACC,MAAMC,SAASJ,GAAT,CAAN,CAAL,CAA2BE,SAAWE,SAASJ,GAAT,GAAe,CAAf,EAAoBI,SAASJ,GAAT,EAAc,KAAKf,QAAL,EAAlC,CAAoDmB,SAASJ,GAAT,CAApD,CAAoE,CAA/E,CAC3B,MATF,CAYA,GAAIE,UAAU,KAAKzG,KAAL,CAAWO,IAAzB,CAA+B,CAC9B,KAAKqG,YAAL,CAAkB,CAACrG,KAAMkG,QAAP,CAAlB,EACA,KAAKzC,QAAL,CAAc,CAACzD,KAAMkG,QAAP,CAAd,EACA,KAAKd,OAAL,CAAac,QAAb,CACA,CACD,C,iDAEa,CACb,GAAII,aAAc,KAAKrB,QAAL,EAAlB,CACA,GAAIsB,WAAYD,YAAY,KAAK/G,cAAjB,CAAkC,KAAKA,cAAvC,CAAwD+G,WAAxE,CACA,GAAIR,OAAQ,EAAZ,CAAgBU,KAAK,IAArB,CAA2BC,MAAM,IAAjC,CAAuCC,QAAQN,SAASG,UAAU,CAAnB,CAA/C,CAAsEI,QAAQ,KAAKlH,KAAL,CAAWO,IAAzF,CACA,GAAI4G,SAAQ,CAAZ,CACAd,MAAMe,IAAN,CAAWF,OAAX,EAMAF,MAAQ,GAAIxD,MAAJ,CAAUyD,OAAV,EAAmBI,IAAnB,GAA0BC,KAA1B,CAAgC,iBACvC,EAAEJ,OAAF,CAAUL,WAAV,CAAwBR,MAAMe,IAAN,CAAWF,OAAX,CAAxB,CAA8C,KADP,CAAhC,CAAR,CAGAA,QAAUK,KAAKC,GAAL,YAAYnB,KAAZ,CAAV,CACAU,KAAO,GAAIvD,MAAJ,CAAUsD,UAAUT,MAAM3E,MAA1B,EAAkC2F,IAAlC,GAAyCC,KAAzC,CAA+C,iBAErD,EAAEJ,OAAF,EAAW,CAAX,CAAeb,MAAMe,IAAN,CAAWF,OAAX,CAAf,CAAqC,KAFgB,CAA/C,CAAP,CAIA,GAAI,CAACH,IAAD,EAASC,KAAb,CAAoB,CACnBE,QAAUK,KAAKE,GAAL,YAAYpB,KAAZ,CAAV,CACA,GAAI7C,MAAJ,CAAUsD,UAAUT,MAAM3E,MAA1B,EAAkC2F,IAAlC,GAAyCC,KAAzC,CAA+C,iBAE9C,EAAEJ,OAAF,CAAUL,WAAV,CAAwBR,MAAMe,IAAN,CAAWF,OAAX,CAAxB,CAA8C,KAFA,CAA/C,CAIA,CACDb,MAAMtD,IAAN,CAAW,SAASC,CAAT,CAAYC,CAAZ,CAAe,CACzB,MAAOD,GAAIC,CACX,CAFD,EAGA,MAAOoD,MACP,C,uCAES,iBACT,GAAIqB,OAAQ,KAAKhI,KAAL,CAAWC,QAAX,CAAoB,KAAKK,KAAL,CAAWI,MAA/B,EAAuCsH,KAAvC,CAA6CC,GAA7C,CAAiD,SAAChE,GAAD,QAAQ,2BAAI,IAAKA,GAAT,EAAeA,GAAf,CAAR,CAAjD,CAAZ,CACA,GAAML,MAAO,CAAC,KAAKtD,KAAL,CAAWM,QAAZ,CACV,KAAKM,OAAL,GAAe+G,GAAf,CAAmB,SAACC,GAAD,CAAM1B,EAAN,QACnB,qBAAC,GAAD,EAAK,IAAK,MAAMA,EAAhB,CAAoB,KAAMA,IAAI,OAAKlG,KAAL,CAAWC,WAAf,CAA6B,OAAKD,KAAL,CAAWG,OAAxC,CAAkD,IAA5E,CAAkF,YAAa,OAAKe,eAApG,CAAqH,KAAM0G,GAA3H,CAAgI,IAAK1B,EAArI,CAAyI,WAAY0B,IAAI,CAAJ,CAArJ,CAA6J,KAAM,OAAK5H,KAAL,CAAWO,IAA9K,CAAoL,SAAU,OAAKE,UAAL,CAAgBkC,OAAhB,CAA0B,OAAKlC,UAAL,CAAgBkC,OAAhB,CAAwBC,KAAlD,CAA0D,EAAxP,EADmB,CAAnB,CADU,CAIV,8BAAI,0BAAI,UAAU,aAAd,CAA4B,QAAS8E,MAAMhG,MAA3C,iBAAJ,CAJH,CAMA,GAAIxB,QAAS,KAAKF,KAAL,CAAWE,MAAxB,CACA,GAAI2H,SAAU,KAAKlI,QAAL,CAAcgI,GAAd,CAAkB,SAACG,GAAD,QAC/B,qBAAC,aAAD,EAAe,UAAW,OAAK1G,sBAA/B,CAAuD,OAAQ0G,KAAK,OAAK9H,KAAL,CAAWI,MAA/E,CAAuF,GAAI0H,GAA3F,CAAgG,IAAK,OAAKpI,KAAL,CAAWC,QAAX,CAAoBmI,GAApB,EAAyBC,GAA9H,CAAmI,IAAKD,GAAxI,EAD+B,CAAlB,CAAd,CAIA,GAAIzB,OAAQ,KAAKb,QAAL,GAAgB,CAAhB,EAAqB,KAAKjE,WAAL,GAAmBoG,GAAnB,CAAuB,SAAChE,GAAD,QACvD,qBAAC,QAAD,EAAU,QAAS,OAAKrC,YAAxB,CAAsC,MAAOqC,IAAI,CAAjD,CAAoD,OAAQA,KAAK,OAAK3D,KAAL,CAAWO,IAA5E,CAAkF,IAAK,cAAWoD,IAAI,CAAf,CAAvF,CAA0G,IAAKA,IAAI,CAAnH,CAAsH,IAAKA,GAA3H,CAAgI,IAAK,KAAKA,GAA1I,EADuD,CAAvB,CAAjC,CAGA,MACC,qBAAC,KAAD,CAAO,QAAP,MACC,4BAAM,UAAU,aAAhB,CAA8B,MAAO,CAACqE,QAAQ,MAAT,CAAiBC,WAAY,QAA7B,CAAuCC,eAAgB,eAAvD,CAArC,CAA8G,SAAU,KAAK/G,aAA7H,CAA4I,OAAO,MAAnJ,EACC,6BAAO,KAAK,QAAZ,CAAqB,KAAK,aAA1B,CAAwC,MAAM,MAA9C,EADD,CAEC,8BAAQ,KAAK,QAAb,CAAsB,UAAU,wBAAhC,cAAkE,yBAAG,UAAU,0BAAb,EAAlE,CAFD,CAGC,2BAAK,UAAU,YAAf,EACC,2BAAK,UAAU,WAAf,CAA2B,cAAY,SAAvC,EACE0G,OADF,CADD,CAHD,CAQC,2BAAK,UAAU,uBAAf,EACgB,8BAAQ,UAAU,cAAlB,CAAiC,IAAK,KAAKpH,UAA3C,CAAuD,SAAU,KAAKM,YAAtE,CAAoF,aAAa,IAAjG,EACd,8BAAQ,MAAM,IAAd,OADc,CAEd,8BAAQ,MAAM,IAAd,OAFc,CAGd,8BAAQ,MAAM,IAAd,OAHc,CADhB,CARD,CADD,CAkBC,2BAAK,UAAU,SAAf,CAAyB,MAAO,CAACiH,QAAS,MAAV,CAAkBG,SAAU,OAA5B,CAAqCC,MAAO,MAA5C,CAAhC,EACG,KAAK1I,KAAL,CAAW2I,OAAX,EAAsB,MAAOC,UAAP,EAAoB,WAA1C,EAAyD,KAAK1H,OAAL,GAAec,MAAf,CAAsB,CAAhF,EAAsF,2BAAK,UAAU,kBAAf,EACtF,oBAAC,SAAD,EAAW,KAAM,KAAKT,aAAL,EAAjB,CAAuC,QAASqC,KAAK,KAAKtD,KAAL,CAAWC,WAAhB,CAAhD,EADsF,CADxF,CAIC,2BAAK,MAAO,CAAC6B,OAAQ5B,OAAO,IAAhB,CAAsBkI,MAAO,MAA7B,CAAqCG,UAAW,SAAhD,CAA2DC,UAAW,QAAtE,CAAgFC,SAAU,UAA1F,CAAZ,EACC,6BAAO,UAAU,4BAAjB,CAA8C,MAAO,CAACA,SAAU,UAAX,CAArD,EACC,iCACC,8BACEf,KADF,CADD,CADD,CAMC,iCACEpE,IADF,CAND,CADD,CAJD,CAlBD,CAmCE,KAAKkC,QAAL,GAAgB,CAAhB,EAAqB,2BAAK,aAAW,iBAAhB,CAAkC,MAAO,CAACwC,QAAQ,MAAT,CAAiBE,eAAgB,QAAjC,CAAzC,EACpB,0BAAI,UAAU,YAAd,EACA,KAAKlI,KAAL,CAAWO,IAAX,CAAgBoG,SAAS,KAAK7G,cAAL,CAAoB,CAA7B,CAAhB,EACC,oBAAC,QAAD,EAAU,QAAS,KAAKwB,YAAxB,CAAsC,MAAM,QAA5C,CAAqD,IAAI,mBAAzD,CAA0E,IAAI,GAA9E,CAAkF,IAAK,CAAvF,CAA0F,IAAI,QAA9F,EAFD,CAIA,KAAKtB,KAAL,CAAWO,IAAX,CAAgBoG,SAAS,KAAK7G,cAAL,CAAoB,CAA7B,CAAhB,EACC,oBAAC,QAAD,EAAU,QAAS,KAAKwB,YAAxB,CAAsC,MAAM,UAA5C,CAAuD,IAAI,oBAA3D,CAA6E,IAAI,MAAjF,CAA2F,IAAI,MAA/F,CAAsG,IAAI,MAA1G,EALD,CAOA+E,KAPA,CAQA,KAAKrG,KAAL,CAAWO,IAAX,CAAgB,KAAKiF,QAAL,GAAgB+B,KAAKmB,IAAL,CAAU,KAAK5I,cAAL,CAAoB,CAA9B,CAAhC,EACA,oBAAC,QAAD,EAAU,QAAS,KAAKwB,YAAxB,CAAsC,MAAM,WAA5C,CAAwD,IAAI,qBAA5D,CAA+E,IAAI,MAAnF,CAA6F,IAAI,MAAjG,CAAwG,IAAI,MAA5G,EATA,CAWA,KAAKtB,KAAL,CAAWO,IAAX,CAAgB,KAAKiF,QAAL,GAAgB+B,KAAKmB,IAAL,CAAU,KAAK5I,cAAL,CAAoB,CAA9B,CAAhC,EACC,oBAAC,QAAD,EAAU,QAAS,KAAKwB,YAAxB,CAAsC,MAAM,KAA5C,CAAkD,IAAI,iBAAtD,CAAqE,IAAK,KAAKkE,QAAL,EAA1E,CAA2F,IAAK,KAAKA,QAAL,GAAgB,CAAhH,CAAmH,IAAI,KAAvH,EAZD,CADoB,CAnCvB,CA2DD,C,kBA9akB9E,MAAMiI,S,EAib1B,QAASC,SAAT,CAAkBlJ,KAAlB,CAAyB,CACxB,MACC,0BAASA,MAAMmJ,MAAP,CAAiB,CAACC,UAAU,QAAX,CAAjB,CAAwC,EAAhD,CACE,yBAAG,KAAM,KAAKpJ,MAAMqJ,KAAN,CAAYrJ,MAAMqJ,KAAlB,CAAwB,EAA7B,CAAT,CAA2C,QAAS,iBAAC5E,CAAD,QAAK,CAAC,CAACzE,MAAMsJ,OAAR,CAAkBtJ,MAAMsJ,OAAN,CAAc7E,CAAd,CAAiBzE,MAAM6G,GAAvB,CAAlB,CAAgDpC,EAAEqC,cAAF,EAArD,CAApD,CAA6H,aAAY9G,MAAMuJ,GAA/I,EACD,4BAAM,cAAY,MAAlB,EAA0BvJ,MAAMqI,GAAhC,CAAqCrI,MAAMmJ,MAAN,EAAgB,4BAAM,UAAU,SAAhB,cAArD,CADC,CADF,CAOD,CAED,QAASK,IAAT,CAAaxJ,KAAb,CAAoB,CACnB,GAAMyJ,SAAUzJ,MAAM0J,IAAN,CAAWzB,GAAX,CAAe,SAAC0B,GAAD,CAAMnD,EAAN,QAAcA,KAAI,CAAJ,CAAQ,0BAAI,IAAK,MAAMA,EAAf,EAAoBxG,MAAM4J,GAAN,CAAU,CAAV,CAAa5J,MAAMa,IAAN,CAAWb,MAAMgD,QAAlD,CAAR,CAA4E,0BAAI,IAAK,MAAMwD,EAAf,EAAoBmD,GAApB,CAA1F,CAAf,CAAhB,CACA,GAAME,eAAgB7J,MAAMkF,IAAN,CAAa,CAACkE,UAAWpJ,MAAMkF,IAAlB,CAAb,CAAuC,EAA7D,CACA,MACC,yCAAI,YAAalF,MAAM8J,WAAvB,EAAwCD,aAAxC,EACEJ,OADF,CAID,CAED,QAASM,cAAT,CAAuB/J,KAAvB,CAA8B,CAC7B,MACC,8BAAO,UAAW,YAAcA,MAAMmJ,MAAN,CAAe,gBAAf,CAAkC,SAAhD,CAAlB,CAA8E,QAASnJ,MAAMgK,SAA7F,EACC,6BAAO,KAAK,OAAZ,CAAmB,KAAK,SAAxB,CAAkC,GAAIhK,MAAMwG,EAA5C,EADD,KACqDxG,MAAMqI,GAD3D,CAID,CAED,GAAI4B,WAAYjJ,MAAMC,SAAN,EAAhB,CAEA,QAASiJ,kBAAT,EAA6B,CAC5B,GAAIC,QAAS,CAACvG,KAAM,EAAP,CAAb,CACA,GAAIwG,UAAW1H,eAAeC,OAAf,CAAuB,YAAvB,CAAf,CACA,GAAIyH,QAAJ,CAAc,CACblK,OAAOgE,MAAP,CAAciG,MAAd,CAAsBrH,KAAKC,KAAL,CAAWqH,QAAX,CAAtB,CACA,CASD,MAAOD,OACP,CAEDlI,EACCoI,SAASC,MAAT,CAAgB,oBAAC,KAAD,gBAAO,IAAKL,SAAZ,EAA2BC,mBAA3B,EAAhB,CAAoEK,SAAShE,aAAT,CAAuB,YAAvB,CAApE,CADD","file":"datos.js","sourcesContent":["class Datos extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.opciones = Object.keys(props.opciones);\n\t\tthis.num_pages_view = 5;\n\t\tthis.mounted= false;\n\t\tthis.state = {selectedRow: 0, tblHei: 0, rowTipo: null, option: this.getOption(), cargando: false, page: 0};\n\t\tthis.state.page = this.getPage();\n\t\t//console.log(this.state);\n\t\tthis.row_opcion = React.createRef();\n\t\tthis.getRows = this.getRows.bind(this);\n\t\tthis.getCurrRowsSource = this.getCurrRowsSource.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.setTableHeight = this.setTableHeight.bind(this);\n\t\tthis.getEditorPosY = this.getEditorPosY.bind(this);\n\t\tthis.handleMouseover = this.handleMouseover.bind(this);\n\t\tthis.exportarExcel = this.exportarExcel.bind(this);\n\t\tthis.handleOptionDataChange = this.handleOptionDataChange.bind(this);\n\t\tthis.dataLocalManager = this.dataLocalManager.bind(this);\n\t\tthis.handlerPages = this.handlerPages.bind(this);\n\t\tthis.getNumPages = this.getNumPages.bind(this);\n\t\t\n\n\t\t//this.ATENCION_NAME = \"lista-atencion-data\";\n\t\t//this.INGRESO_ATENCION = \"lista-ingreso-data\";\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setTableHeight();\n\t\tthis.mounted = true;\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tthis.setTableHeight();\n\t}\n\n\tgetEditorPosY() {\n\t\tif (this.state.selectedRow && this.state.selectedRow<this.getRows().length && !this.state.cargando) {\n\t\t\treturn $(`tbody tr:nth-child(${this.state.selectedRow+1})`).offset().top - $(\".tbl-data\").offset().top;\n\t\t}\n\t\treturn $(\".tbl-data thead\").height();\n\t}\n\n\tparseDate(date) {\n\t\t//console.log(date);\n\t\tdate = date.split(\" \");\n\t\tlet fecha = date[0].split(\"/\");\n\t\treturn new Date(fecha[1]+\"/\"+fecha[0]+\"/\"+fecha[2]+\" \"+date[1]);\n\t}\n\n\tgetRowsSesKey(option) {\n\t\tif (!option) option = this.state.option;\n\t\treturn \"data-datos-\"+option;\n\t}\n\t\n\tgetRows() {\n\t\tlet ses_data = sessionStorage.getItem(this.getRowsSesKey());\n\t\tlet parseDate = this.parseDate;\n\t\tif (ses_data) {\n\t\t\tses_data = JSON.parse(ses_data);\n\t\t\t//if (ses_data[this.state.option]) {\n\t\t\t\tlet num_rows = this.row_opcion.current ? this.row_opcion.current.value : 20;\n\t\t\t\tlet keys_data = [];\n\t\t\t\t//console.log(ses_data, Object.values(ses_data));\n\t\t\t\tswitch (this.state.option) {\n\t\t\t\t\tcase 'ingreso':\n\t\t\t\t\t\tkeys_data =  Object.values(ses_data).sort(function(a, b){return parseDate(a[5]) - parseDate(b[5])}).reverse().splice(0, num_rows);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tkeys_data =  Object.values(ses_data).sort(function(a, b){return parseDate(a[1]) - parseDate(b[1])}).reverse().splice(0, num_rows);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t//console.log(\"keys\", keys_data);\n\t\t\t\treturn keys_data;\n\t\t\t//}\n\t\t}\n\t\treturn [];\n\t}\n\n\tgetCurrRowsSource() {\n\t\treturn this.getRowsSource(this.state.option);\n\t}\n\n\tgetRowsSource(option) {\n\t\tif (this.opciones.includes(option)) {\n\t\t\tlet ses_data = sessionStorage.getItem(this.getRowsSesKey(option));\n\t\t\tif (ses_data) {\n\t\t\t\tses_data = JSON.parse(ses_data);\n\t\t\t\t//if (ses_data[option]) return ses_data[option];\n\t\t\t\treturn ses_data;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tsetCurrRowsSource(rows) {\n\t\tthis.setRowsSource(this.state.option, rows);\n\t}\n\n\tsetRowsSource(option, rows) {\n\t\tif (this.opciones.includes(option) && typeof rows == 'object') {\n\t\t\tlet ses_data = sessionStorage.getItem(this.getRowsSesKey(option));\n\t\t\tif (ses_data) {\n\t\t\t\tses_data = JSON.parse(ses_data);\n\t\t\t\t//if (ses_data[option]) {\n\t\t\t\t\t if (!Array.isArray(rows)) {\n\t\t\t\t\t\t ses_data = rows;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tses_data = {}\n\t\t\t\t\t\trows.forEach(function (val) {\n\t\t\t\t\t\t\tObject.assign(ses_data, {[val[0]]: val});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t//}\n\t\t\t}\n\t\t\tsessionStorage.setItem(this.getRowsSesKey(option), JSON.stringify(ses_data));\n\t\t}\n\t}\n\n\tsetTableHeight() {\n\t\tlet hei = $(\".tbl-data\").height()+17+20;\n\t\tif (hei != this.state.tblHei) this.setState({tblHei: hei});\n\t}\n\n\tdataLocalManager(data) {\n\t\tdataManager(data);\n\t\t/*let rows = this.getCurrRowsSource();\n\t\tif (Object.keys(rows).length>100) {\n\t\t\tObject.keys(rows).slice()\n\t\t}*/\n\t}\n\n\texportarExcel(e) {\n\t\tlet xmlhttp = new XMLHttpRequest();\n\t\tlet params = `export_data=true&rows=${this.row_opcion.current.value}`;\n\t\txmlhttp.onreadystatechange = function() {\n\t\t\tif (this.readyState == 4 && this.status == 200) {\n\t\t\t\t$(\"#datos-cnt\").prepend(Alerta({tipo: \"success\", msg: \"Exportado exitosamente\"}));\n\t\t\t}\n\t\t}\n\t\txmlhttp.open(\"POST\", \"/datos\", true);\n\t\txmlhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n\t\txmlhttp.send(params);\n\t\t//e.preventDefault();\n\t}\n\n\tgetDownloadDataParams(config) {\n\t\tconfig = this.getDefaultConfig(config);\n\t\tlet params = new URLSearchParams();\n\t\tparams.append(\"json\", true);\n\t\tif (this.row_opcion.current.value!=20) params.append(\"rows\", this.row_opcion.current.value);\n\t\tif (config.option!=this.opciones[0]) params.append(\"view\", config.option);\n\t\tif (config.page>0) params.append(\"page\", config.page);\n\t\t//console.log(config, params.toString());\n\t\treturn params.toString();\n\t\t//return `json=true&rows=${this.row_opcion.current.value}&json=true${view}`;\n\t\t\n\t}\n\n\tgetDefaultConfig(config) {\n\t\tif (!config) config = {};\n\t\tif (!config.option) config.option=this.state.option;\n\t\tif (!Number.isInteger(config.page)) config.page=this.state.page>=0 && this.state.page<=this.getPages(config.option) ? this.state.page : this.getPage(config.option);\n\t\treturn config;\n\t}\n\n\thandleChange(e) {\n\t\t//let new_page = \n\t\t//this.setPage();\n\t\tthis.setState({cargando: true, selectedRow:0});\n\t\tlet xmlhttp = new XMLHttpRequest();\n\t\tlet this_tmp = this;\n\t\txmlhttp.onreadystatechange = function() {\n\t\t\tif (this.readyState == 4 && this.status == 200) {\n\t\t\t\tlet data = JSON.parse(this.responseText);\n\t\t\t\tif (!data) {\n\t\t\t\t\tthis_tmp.setPage(0);\n\t\t\t\t}\n\t\t\t\tthis_tmp.dataLocalManager(data);\n\t\t\t\tthis_tmp.setState({cargando: false});\n\t\t\t}\n\t\t}\n\t\tlet view = this.state.option!=this.opciones[0] ? \"&view=\"+this.state.option : \"\";\n\t\txmlhttp.open(\"GET\", \"/datos?\"+this.getDownloadDataParams(), true);\n\t\txmlhttp.send();\n\t}\n\t\n\tmanageChange(config) {\n\t\tconfig = this.getDefaultConfig(config);\n\t\tthis.setState({cargando: true, selectedRow:0});\n\t\tlet xmlhttp = new XMLHttpRequest();\n\t\tlet this_tmp = this;\n\t\txmlhttp.onreadystatechange = function() {\n\t\t\tif (this.readyState == 4 && this.status == 200) {\n\t\t\t\tthis_tmp.dataLocalManager(JSON.parse(this.responseText));\n\t\t\t\tthis_tmp.setState({cargando: false});\n\t\t\t}\n\t\t}\n\t\tlet view = this.state.option!=this.opciones[0] ? \"&view=\"+this.state.option : \"\";\n\t\txmlhttp.open(\"GET\", \"/datos?\"+this.getDownloadDataParams(config), true);\n\t\txmlhttp.send();\n\t}\n\n\thandleMouseover(e) {\n\t\t//console.log(e.currentTarget.sectionRowIndex);\n\t\tthis.setState({selectedRow: e.currentTarget.sectionRowIndex, rowTipo: \"active\"});\n\t}\n\n\tsetRowTipo(tipo) {\n\t\tthis.setState({rowTipo: tipo});\n\t\treturn null;\n\t}\n\n\thandleOptionDataChange(e) {\n\t\tlet option = e.target.querySelector(\"input\").id;\n\t\tthis.setOption(option);\n\t\tthis.setState({cargando: true, selectedRow:0, page: this.getPage(option)});\n\t\tlet xmlhttp = new XMLHttpRequest();\n\t\t//let view = option!=this.opciones[0] ? \"&view=\"+option : \"\";\n\t\t//let params = `rows=${this.row_opcion.current.value}&json=true${view}`;\n\t\tlet this_tmp = this;\n\t\txmlhttp.onreadystatechange = function() {\n\t\t\tif (this.readyState == 4 && this.status == 200) {\n\t\t\t\t//dataManager(JSON.parse(this.responseText));\n\t\t\t\tthis_tmp.dataLocalManager(JSON.parse(this.responseText));\n\t\t\t\tthis_tmp.setState({cargando: false});\n\t\t\t}\n\t\t}\n\t\txmlhttp.open(\"GET\", \"/datos?\"+this.getDownloadDataParams({option: option}), true);\n\t\txmlhttp.send();\n\t}\n\n\tgetDataSelectedRow() {\n\t\treturn this.getRows()[this.state.selectedRow];\n\t}\n\n\tgetPages(option) {\n\t\tlet limits = sessionStorage.getItem(\"data-datos-limits\");\n\t\tif (limits) {\n\t\t\tlimits = JSON.parse(limits);\n\t\t\toption = option ? option : this.state.option;\n\t\t\tif (limits[option] && limits[option].pages) {\n\t\t\t\treturn limits[option].pages;\n\t\t\t}\n\t\t}\n\t\treturn 1;\n\t}\n\n\tgetPage(option) {\n\t\tlet limits = sessionStorage.getItem(\"data-datos-limits\");\n\t\tif (limits) {\n\t\t\tlimits = JSON.parse(limits);\n\t\t\toption = option ? option : this.state.option;\n\t\t\tif (limits[option] && limits[option].page) {\n\t\t\t\treturn limits[option].page;\n\t\t\t}\n\t\t}\n\t\tthis.setPage(0, option);\n\t\treturn 0;\n\t}\n\n\tsetPage(page, option) {\n\t\tlet limits = sessionStorage.getItem(\"data-datos-limits\");\n\t\tif (limits) {\n\t\t\tlimits = JSON.parse(limits);\n\t\t\toption = option ? option : this.state.option;\n\t\t\tif (limits[option]) {\n\t\t\t\tlimits[option].page = page;\n\t\t\t\tif (this.mounted) this.setState({page: page});\n\t\t\t\tsessionStorage.setItem(\"data-datos-limits\", JSON.stringify(limits));\n\t\t\t}\n\t\t}\n\t}\n\n\tgetOption() {\n\t\tlet limits = sessionStorage.getItem(\"data-datos-limits\");\n\t\tif (limits) {\n\t\t\tlimits = JSON.parse(limits);\n\t\t\tif (limits.default_option && this.opciones.includes(limits.default_option)) {\n\t\t\t\treturn limits.default_option;\n\t\t\t}\n\t\t}\n\t\tthis.setOption(this.opciones[0]);\n\t\treturn this.opciones[0];\n\t}\n\n\tsetOption(option) {\n\t\tlet limits = sessionStorage.getItem(\"data-datos-limits\");\n\t\tif (limits) {\n\t\t\tlimits = JSON.parse(limits);\n\t\t\tif (limits) {\n\t\t\t\tlimits.default_option = option;\n\t\t\t\tif (this.mounted) this.setState({option: option});\n\t\t\t\tsessionStorage.setItem(\"data-datos-limits\", JSON.stringify(limits));\n\t\t\t}\n\t\t}\n\t}\n\n\n\thandlerPages(e, dir) {\n\t\te.preventDefault();\n\t\tlet new_page = this.state.page;\n\t\tswitch(dir) {\n\t\t\tcase 'next':\n\t\t\t\tnew_page += 1;\n\t\t\t\tbreak;\n\t\t\tcase 'prev':\n\t\t\t\tnew_page -= 1;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif (!isNaN(parseInt(dir))) new_page = parseInt(dir)>=0 && parseInt(dir)<this.getPages() ? parseInt(dir) : 0;\n\t\t\t\tbreak;\n\t\t}\n\t\t//console.log(dir, new_page, this.state.page);\n\t\tif (new_page!=this.state.page) {\n\t\t\tthis.manageChange({page: new_page});\n\t\t\tthis.setState({page: new_page});\n\t\t\tthis.setPage(new_page);\n\t\t}\n\t}\n\n\tgetNumPages() {\n\t\tlet total_pages = this.getPages();\n\t\tlet max_pages = total_pages>this.num_pages_view ? this.num_pages_view : total_pages;\n\t\tlet pages = [], left=true, right=true, mid_num=parseInt(max_pages/2), pag_num=this.state.page;\n\t\tlet counter=0;\n\t\tpages.push(pag_num);\n\t\t/*while(pages.length<max_pages&&(left||right)&&counter<50) {\n\t\t\t\n\t\t\t\n\t\t\t++counter;\n\t\t}*/\n\t\tright = new Array(mid_num).fill().every(()=>(\n\t\t\t++pag_num<total_pages ? pages.push(pag_num) : false\n\t\t));\n\t\tpag_num = Math.min(...pages);\n\t\tleft = new Array(max_pages-pages.length).fill().every(()=>(\n\t\t\t//pag_num-=(val);\n\t\t\t--pag_num>=0 ? pages.push(pag_num) : false\n\t\t));\n\t\tif (!left && right) {\n\t\t\tpag_num = Math.max(...pages);\n\t\t\tnew Array(max_pages-pages.length).fill().every(()=>(\n\t\t\t\t//pag_num-=(val);\n\t\t\t\t++pag_num<total_pages ? pages.push(pag_num) : false\n\t\t\t));\n\t\t}\n\t\tpages.sort(function(a, b) {\n\t\t\treturn a - b;\n\t\t});\n\t\treturn pages;\n\t}\n\n\trender () {\n\t\tlet thead = this.props.opciones[this.state.option].thead.map((val)=>(<th key={val}>{val}</th>));\n\t\tconst rows = !this.state.cargando ?\n\t\t\t\t(this.getRows().map((row, id) => (\n\t\t\t\t\t<Row key={\"row\"+id} tipo={id==this.state.selectedRow ? this.state.rowTipo : null} onMouseOver={this.handleMouseover} cols={row} pos={id} idAtencion={row[0]} page={this.state.page} num_rows={this.row_opcion.current ? this.row_opcion.current.value : 20} />\n\t\t\t\t))) :\n\t\t\t\t(<tr><td className=\"text-center\" colSpan={thead.length}>Cargando ...</td></tr>);\n\t\t\t\t\t\n\t\tlet tblHei = this.state.tblHei;\n\t\tlet options = this.opciones.map((opt)=>(\n\t\t\t<OpcionesDatos onHandler={this.handleOptionDataChange} active={opt==this.state.option} id={opt} txt={this.props.opciones[opt].txt} key={opt} />\n\t\t));\n\t\t\n\t\tlet pages = this.getPages()>1 && this.getNumPages().map((val)=>(\n\t\t\t<GoToPage handler={this.handlerPages} h_url={val+1} active={val==this.state.page} lbl={\"Página \"+(val+1)} txt={val+1} dir={val} key={\"p-\"+val} />\n\t\t));\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<form className=\"form-inline\" style={{display:'flex', alignItems: 'center', justifyContent: 'space-between'}} onSubmit={this.exportarExcel} method=\"POST\">\n\t\t\t\t\t<input type=\"hidden\" name=\"export_data\" value=\"true\"/>\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-default btn-lg\">EXPORTAR <i className=\"glyphicon glyphicon-file\"></i></button>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<div className=\"btn-group\" data-toggle=\"buttons\">\n\t\t\t\t\t\t\t{options}\n\t\t\t\t\t\t</div>\n                    </div>\n\t\t\t\t\t<div className=\"form-group pull-right\">\n                    \t<select className=\"form-control\" ref={this.row_opcion} onChange={this.handleChange} defaultValue=\"20\">\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t{/* <option value=\"0\">hoy</option> */}\n\t\t\t\t\t\t</select>\n                    </div>\n\t\t\t\t</form>\n\t\t\t\t<div className=\"tbl-cnt\" style={{display: \"flex\", maxWidth: \"100wp\", width: \"100%\"}}>\n\t\t\t\t\t{(this.props.canEdit && typeof AdminRows != \"undefined\" && this.getRows().length>0) && <div className=\"edit-tbl-row-cnt\">\n\t\t\t\t\t\t<AdminRows posY={this.getEditorPosY()} dataRow={rows[this.state.selectedRow]} />\n\t\t\t\t\t</div>}\n\t\t\t\t\t<div style={{height: tblHei+\"px\", width: \"100%\", overflowX: \"overlay\", overflowY: \"hidden\", position: \"relative\"}}>\n\t\t\t\t\t\t<table className=\"table table-hover tbl-data\" style={{position: \"absolute\"}}>\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t{thead}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{rows}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{this.getPages()>1 && <nav aria-label=\"Page navigation\" style={{display:\"flex\", justifyContent: \"center\"}}>\n\t\t\t\t  <ul className=\"pagination\">\n\t\t\t\t\t{this.state.page>parseInt(this.num_pages_view/2) &&\n\t\t\t\t\t\t(<GoToPage handler={this.handlerPages} h_url=\"inicio\" lbl=\"Página inicial\" txt=\"1\" dir={0} key=\"inicio\" />)\n\t\t\t\t\t}\n\t\t\t\t\t{this.state.page>parseInt(this.num_pages_view/2) &&\n\t\t\t\t\t\t(<GoToPage handler={this.handlerPages} h_url=\"anterior\" lbl=\"Página anterior\" txt=\"&laquo;\" dir=\"prev\" key=\"prev\" />)\n\t\t\t\t\t}\n\t\t\t\t\t{pages}\n\t\t\t\t\t{this.state.page<this.getPages()-Math.ceil(this.num_pages_view/2) && \n\t\t\t\t\t\t<GoToPage handler={this.handlerPages} h_url=\"siguiente\" lbl=\"Página siguiente\" txt=\"&raquo;\" dir=\"next\" key=\"next\" />\n\t\t\t\t\t}\n\t\t\t\t\t{this.state.page<this.getPages()-Math.ceil(this.num_pages_view/2) &&\n\t\t\t\t\t\t(<GoToPage handler={this.handlerPages} h_url=\"fin\" lbl=\"Página final\" txt={this.getPages()} dir={this.getPages()-1} key=\"fin\" />)\n\t\t\t\t\t}\n\t\t\t\t\t{/*<li>\n\t\t\t\t\t  <a href=\"#\" aria-label=\"Next\">\n\t\t\t\t\t\t<span aria-hidden=\"true\">&raquo;</span>\n\t\t\t\t\t  </a>\n\t\t\t\t\t</li>*/}\n\t\t\t\t  </ul>\n\t\t\t\t</nav>}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nfunction GoToPage(props) {\n\treturn (\n\t\t<li {...(props.active) ? {className:\"active\"} : {}}>\n\t\t  <a href={\"#\"+(props.h_url?props.h_url:\"\")} onClick={(e)=>!!props.handler ? props.handler(e, props.dir) : e.preventDefault()} aria-label={props.lbl}>\n\t\t\t<span aria-hidden=\"true\">{props.txt}{props.active && <span className=\"sr-only\">(current)</span>}</span>\n\t\t\t{/*<span aria-hidden=\"true\">{props.dir===-1 ? \"&laquo;\" : \"&raquo;\"}</span>*/}\n\t\t  </a>\n\t\t</li>\n\t);\n}\n\nfunction Row(props) {\n\tconst columns = props.cols.map((col, id) => (id==0 ? <td key={\"col\"+id}>{props.pos+1+(props.page*props.num_rows)}</td> : <td key={\"col\"+id}>{col}</td>));\n\tconst optionalAttrs = props.tipo ? {className: props.tipo} : {};\n\treturn (\n\t\t<tr onMouseOver={props.onMouseOver} {...optionalAttrs}>\n\t\t\t{columns}\n\t\t</tr>\n\t);\n}\n\nfunction OpcionesDatos(props) {\n\treturn (\n\t\t<label className={\"btn btn-\" + (props.active ? \"warning active\" : \"default\")} onClick={props.onHandler} >\n\t\t\t<input type=\"radio\"name=\"options\" id={props.id} /> {props.txt}\n\t\t</label>\n\t);\n}\n\nvar DATOS_REF = React.createRef();\n\nfunction getInitPropsDatos() {\n\tlet result = {rows: []};\n\tlet ses_view = sessionStorage.getItem('view-datos');\n\tif (ses_view) {\n\t\tObject.assign(result, JSON.parse(ses_view));\n\t}/*\n\tlet ses_data = sessionStorage.getItem('data-datos');\n\tif (ses_data) {\n\t\tses_data = JSON.parse(ses_data);\n\t\tlet keys_data = Object.keys(ses_data.main_rows).sort().reverse().splice(0, 20);\n\t\t//console.log(\"keys\", keys_data);\n\t\tObject.assign(result, {rows: keys_data.map((key)=>ses_data.main_rows[key])});\n\t}\n\tconsole.log(\"RESULT_PROPS\", result);*/\n\treturn result;\n}\n\n$(\n\tReactDOM.render(<Datos ref={DATOS_REF} {...getInitPropsDatos()} />, document.querySelector(\"#datos-cnt\"))\n);\n"]}