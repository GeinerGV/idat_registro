var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if('value'in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called')}return call&&(typeof call==='object'||typeof call==='function')?call:self}function _inherits(subClass,superClass){if(typeof superClass!=='function'&&superClass!==null){throw new TypeError('Super expression must either be null or a function, not '+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Login=function(_React$Component){_inherits(Login,_React$Component);function Login(props){_classCallCheck(this,Login);var _this=_possibleConstructorReturn(this,(Login.__proto__||Object.getPrototypeOf(Login)).call(this,props));_this.state={email:'',pass:'',save:true,tipo:'info'};_this.handleInput=_this.handleInput.bind(_this);_this.handleSave=_this.handleSave.bind(_this);_this.handleSubmit=_this.handleSubmit.bind(_this);return _this}_createClass(Login,[{key:'handleSave',value:function handleSave(e){this.setState({save:e.target.checked})}},{key:'isEmail',value:function isEmail(val){var reg=new RegExp('^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$');return reg.test(val)}},{key:'handleInput',value:function handleInput(event){var len=event.target.value.length;if(len){var id=event.target.id;if(id=='email'&&this.isEmail(event.target.value)||id=='password'&&len>7){setSuccess(event);switch(id){case'password':this.setState({pass:event.target.value});break;case'email':this.setState({email:event.target.value});break;}}else{setError(event)}}else{setWarning(event)}}},{key:'handleSubmit',value:function handleSubmit(event){event.preventDefault();if(this.state.email.length&&this.state.pass.length){var xmlhttp=new XMLHttpRequest;var params='email='+this.state.email+'&pass='+this.state.pass+'&save='+this.state.save;xmlhttp.onreadystatechange=function(){if(this.readyState==4&&this.status==200){var data=JSON.parse(xmlhttp.response);$('.alert').alert('close');$('#login-form').prepend(Alerta(data));if(data.tipo=='success')location.href='/'}};xmlhttp.open('POST','/login',true);xmlhttp.setRequestHeader('Content-type','application/x-www-form-urlencoded');xmlhttp.send(params)}}},{key:'render',value:function render(){return React.createElement('div',{id:'login-form',className:'col-sm-8 col-xs-10'},React.createElement('div',{className:'panel panel-'+this.state.tipo},React.createElement('div',{className:'panel-heading'},React.createElement('h3',{className:'panel-title'},'Inicio de sesi\xF3n')),React.createElement('div',{className:'panel-body'},React.createElement('form',{className:'form-horizontal',onSubmit:this.handleSubmit,action:'/login'},React.createElement('div',{className:'form-group'},React.createElement('label',{htmlFor:'Email',className:'col-sm-2 control-label'},'Email'),React.createElement('div',{className:'col-sm-10'},React.createElement('input',{type:'email',className:'form-control',id:'email',placeholder:'Email',required:true,onChange:this.handleInput}))),React.createElement('div',{className:'form-group'},React.createElement('label',{htmlFor:'password',className:'col-sm-2 control-label'},'Contrase\xF1a'),React.createElement('div',{className:'col-sm-10'},React.createElement('input',{type:'password',className:'form-control',id:'password',placeholder:'Contrase\xF1a',required:true,minLength:8,onChange:this.handleInput}))),React.createElement('div',{className:'form-group'},React.createElement('div',{className:'col-sm-offset-2 col-sm-10'},React.createElement('div',{className:'checkbox'},React.createElement('label',null,React.createElement('input',{type:'checkbox',onChange:this.handleSave}),' Recordarme')))),React.createElement('div',{className:'form-group'},React.createElement('div',{className:'col-sm-offset-2 col-sm-10'},React.createElement('button',{type:'submit',className:'btn btn-default'},'Iniciar Sesi\xF3n')))))))}}]);return Login}(React.Component);$(ReactDOM.render(React.createElement(Login,null),document.querySelector('#login-cnt')));
//# sourceMappingURL=login.js.map